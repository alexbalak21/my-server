const html=document.documentElement,lowercase="abcdefghijklmnopqrstuvwxyz",uppercase="ABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers="0123456789",symbols="?!@#$%^&*+",spec_symbols="/()[],.:;=-_";function getSystemTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function applyTheme(e){const t=document.getElementById("themeToggle"),m=document.getElementById("moon"),s=document.getElementById("sun");html.setAttribute("data-bs-theme",e),"dark"===e?(s.classList.remove("d-none"),m.classList.add("d-none"),t.classList.replace("btn-outline-dark","btn-outline-light")):(m.classList.remove("d-none"),s.classList.add("d-none"),t.classList.replace("btn-outline-light","btn-outline-dark"))}function initThemeToggle(){document.getElementById("themeToggle").addEventListener("click",()=>{applyTheme("dark"===html.getAttribute("data-bs-theme")?"light":"dark")})}function initCopyButton(e,t){const n=new bootstrap.Tooltip(e,{trigger:"manual"}),o=e.innerHTML;e.addEventListener("click",()=>{navigator.clipboard.writeText(t.value),n.show(),e.innerText="Copied!",e.classList.replace("btn-success","btn-secondary"),e.disabled=!0,setTimeout(()=>{n.hide(),e.innerHTML=o,e.classList.replace("btn-secondary","btn-success"),e.disabled=!1},700)})}function generatePassword(){let e="";document.getElementById("Lowercase").checked&&(e+=lowercase),document.getElementById("Uppercase").checked&&(e+=uppercase),document.getElementById("Numbers").checked&&(e+=numbers),document.getElementById("Symbols").checked&&(e+=symbols),document.getElementById("spec_symbols").checked&&(e+=spec_symbols);const t=Number(document.getElementById("length").value);let n="";for(let o=0;o<t;o++)n+=e[Math.floor(Math.random()*e.length)];return n}function initLengthButtons(){const e=document.getElementById("length");document.getElementById("plus").addEventListener("click",()=>{e.value<64&&e.value++}),document.getElementById("minus").addEventListener("click",()=>{e.value>1&&e.value--})}async function loadSVG(e,t){document.getElementById(e).innerHTML=await fetch(t).then(e=>e.text())}async function initApp(){const e=document.getElementById("output"),t=document.getElementById("copy"),n=document.getElementById("generate");await loadSVG("moon","/static/icons/moon.svg"),await loadSVG("sun","/static/icons/sun.svg"),await loadSVG("copyIcon","/static/icons/copy.svg"),applyTheme(getSystemTheme()),initThemeToggle(),initCopyButton(t,e),initLengthButtons(),n.addEventListener("click",()=>{e.value=generatePassword()}),e.value=generatePassword()}initApp();